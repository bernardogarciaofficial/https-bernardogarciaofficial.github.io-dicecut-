<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Dicecut Music Video Editor</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <!-- Topbar: Members Online & Logo -->
  <div class="topbar">
    <span class="logo">ðŸŽ² Dicecut Editor</span>
    <span class="member-counter">ðŸ‘¤ Members online: <span id="member-count">0</span></span>
  </div>

  <h1>Dicecut Music Video Editor</h1>

  <!-- Master Audio Upload -->
  <div class="master-audio">
    <label for="masterAudioInput"><b>Upload Master Audio Track:</b> </label>
    <input type="file" id="masterAudioInput" accept="audio/*">
    <div id="masterWaveform"></div>
  </div>

  <!-- 8 Bars Chunk Timeline (above video output) -->
  <div id="master-timeline-chunks"></div>

  <!-- Video Tracks Section -->
  <h2>Video Tracks</h2>
  <div id="video-tracks"></div>

  <!-- Dice Controls (Optional) -->
  <div id="dice-controls">
    <button id="dice-edit-all">ðŸŽ² Random Dice Edit (Whole Video)</button>
    <button id="dice-edit-chunks">ðŸŽ² Dice Edit 8 Bars at a Time</button>
  </div>

  <!-- Final Output Section -->
  <div id="final-output-container" class="video-output-section">
    <div class="video-final-label">Final Master Video Output (OUT)</div>
    <div class="waveform-container">
      <div class="waveform" id="outputWaveform"></div>
    </div>
    <video id="outputVideo" class="output-video" controls></video>
    <div class="rec-indicator" id="final-rec-indicator" style="display:none"></div>
    <div class="countdown-overlay" id="final-countdown"></div>
  </div>

  <!-- Global Countdown and REC controls -->
  <div class="controls">
    <button id="recBtn" disabled>REC</button>
    <span id="countdown" class="countdown"></span>
  </div>

  <script src="https://unpkg.com/wavesurfer.js"></script>
  <script src="script.js"></script>
</body>
</html>
